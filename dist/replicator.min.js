!function(){"use strict";function n(n,r){var t={},e=_.map(r,function(n,r){return n===!0?r:void 0});return _.each(e,function(r){var e=i(n,r);_.isObject(e)&&_.extend(t,e)}),t}function r(n,r,t,e){var i=_.keys(_.extend({},n,r)),u=_.xor(i,_.keys(t));if(u.length)throw new Error("Couldn't add unregistered attributes "+u.join(",")+" in a build of factory "+e)}function t(n){return d[n]}function e(n,r){return _.pickBy(r,function(r,t){return!i(n,t)})}function i(n,r){return s[n]=s[n]||{},s[n][r]}function u(n,r){_.each(n,function(t,e){_.isFunction(t)&&(n[e]=t(n,r))})}function o(i,o){var c=t(i),f=n(i,o),a=e(i,o),d=_.extend({},c,f,a);v.enforce&&r(c,f,d,i);var s=h[i];return u(d,s),h[i]++,d}function c(n,r){if(!_.isString(n))throw new Error("A factory name is required.");r=r||{};var t=function(r,t){return s[n]=s[n]||{},s[n][r]=t,e},e={trait:t};return d[n]=r,h[n]=1,s[n]={},e}function f(n,r,t){if(t=t||1,!_.isString(n))throw new Error("A factory name is required.");if(!d[n])throw new Error("Can't build "+n+". It has not been defined");var e=[];return _.each(_.range(t),function(){e.push(o(n,r))}),1===t&&(e=e[0]),function(r){return r?f(n,r)():e}}function a(n,r,t){return function(){return w.build(n,r,t)}}var d={},s={},h={},v={enforce:!0},w={define:c,makeFactory:f,build:function(n,r,t){return this.makeFactory(n,r,t)()},embed:a,config:function(n){return n?(_.extend(v,n),void 0):v}};window.Replicator=w}();
//# sourceMappingURL=replicator.min.js.map
